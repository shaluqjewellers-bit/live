<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>SHALUQ JEWELLERS – Live Gold & Silver</title>
  <link rel="icon" href="logo.png" />

  <!-- Luxury serif for headings -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&display=swap" rel="stylesheet">

  <style>
    /* ===== Local brand font (already in your repo) ===== */
    @font-face{font-family:"ClarityCity";src:url("ClarityCity-Regular.ttf") format("truetype");font-weight:400;font-style:normal}
    @font-face{font-family:"ClarityCity";src:url("ClarityCity-SemiBold.ttf") format("truetype");font-weight:600;font-style:normal}
    @font-face{font-family:"ClarityCity";src:url("ClarityCity-Bold.ttf") format("truetype");font-weight:700;font-style:normal}

    :root{
      --bg0:#050506;
      --bg1:#070708;
      --text:#F2F2F2;
      --muted:#B9B9B9;
      --muted2:#8A8A8A;

      --gold1:#D4AF37;
      --gold2:#F6E27A;

      --card: rgba(13,13,16,.64);
      --line: rgba(255,255,255,.08);
      --shadow: 0 18px 55px rgba(0,0,0,.55);
      --shadow2: 0 24px 70px rgba(0,0,0,.65);
      --r: 18px;

      --open: rgba(246,226,122,.95);
      --closed: rgba(255,93,93,.95);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: "ClarityCity", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      background:
        radial-gradient(1200px 700px at 20% -10%, rgba(212,175,55,.14), transparent 60%),
        radial-gradient(900px 600px at 80% 10%, rgba(246,226,122,.10), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1) 40%, var(--bg0));
      overflow-x:hidden;
    }
    body::before{
      content:"";
      position: fixed; inset:0;
      pointer-events:none;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.75' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.14'/%3E%3C/svg%3E");
      opacity:.055;
      mix-blend-mode: overlay;
    }

    .wrap{
      max-width: 1100px;
      margin: 0 auto;
      padding: 14px 14px 70px;
    }

    /* ===== Top bar ===== */
    .topbar{
      display:flex;
      justify-content:center;
      padding: 8px 0 4px;
    }
    .btn{
      width: 100%;
      max-width: 420px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding: 12px 14px;
      border-radius: 16px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.10);
      color: var(--text);
      cursor:pointer;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      transition: transform .25s ease, box-shadow .25s ease, background .25s ease;
      box-shadow: 0 14px 40px rgba(0,0,0,.35);
    }
    .btn:active{ transform: scale(.99); }
    .btn .dot{
      width:9px;height:9px;border-radius:999px;
      background: linear-gradient(135deg, var(--gold1), var(--gold2));
      box-shadow: 0 0 16px rgba(212,175,55,.28);
    }
    .btn small{
      color: var(--muted);
      font-size: 11px;
      letter-spacing:.22em;
      text-transform:uppercase;
      display:block;
      line-height:1.05;
      text-align:center;
    }
    .btn span.txt{
      font-size: 13px;
      letter-spacing:.10em;
      color:#eaeaea;
      display:block;
      text-align:center;
    }

    /* ===== Header ===== */
    header{
      margin-top: 10px;
      padding: 14px 0 14px;
      border-bottom: 1px solid rgba(255,255,255,.07);
      display:flex;
      flex-direction:column;
      gap:12px;
      align-items:flex-start;
    }
    .brand{
      display:flex;
      align-items:center;
      gap: 12px;
      width:100%;
    }
    .logoBox{
      width: 44px; height: 44px;
      border-radius: 14px;
      background: radial-gradient(circle at 30% 30%, rgba(246,226,122,.35), rgba(212,175,55,.12) 40%, rgba(255,255,255,.04) 72%);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 18px 50px rgba(0,0,0,.55);
      overflow:hidden;
      flex: 0 0 auto;
    }
    .logoBox img{ width:100%; height:100%; object-fit:cover; display:block; }

    .titles{ flex:1; }
    .titles h1{
      margin:0;
      font-family: "Cinzel", serif;
      font-size: 19px;
      font-weight: 600;
      letter-spacing: .16em;
      text-transform: uppercase;
      line-height: 1.15;
    }
    .titles p{
      margin:6px 0 0;
      color: var(--muted);
      font-size: 12px;
      letter-spacing:.20em;
      text-transform: uppercase;
    }

    /* ===== Market area (mobile friendly) ===== */
    .marketbar{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      width:100%;
    }
    .pill{
      width:100%;
      display:flex;
      align-items:center;
      flex-wrap:wrap;
      gap:8px;
      padding: 12px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.08);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .pill .label{
      color: var(--muted);
      font-size: 11px;
      letter-spacing: .22em;
      text-transform: uppercase;
      white-space:nowrap;
    }
    .pill .val{
      font-variant-numeric: tabular-nums;
      letter-spacing: .06em;
      color: #e9e9e9;
      font-size: 12.5px;
      white-space:nowrap;
    }
    .pill .sep{ opacity:.65; }

    #statusDot{
      width:10px;height:10px;border-radius:999px;
      background: rgba(255,255,255,.14);
      box-shadow: 0 0 18px rgba(255,255,255,.08);
      flex: 0 0 auto;
    }

    .divider{
      height: 1px;
      background: rgba(255,255,255,.07);
      margin: 14px 0 14px;
    }

    /* ===== Cards ===== */
    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
      margin-top: 8px;
    }
    @media (min-width: 900px){
      header{ flex-direction:row; align-items:center; justify-content:space-between; gap: 16px; }
      .marketbar{ justify-content:flex-end; width:auto; }
      .pill{ width:auto; }
      .grid{ grid-template-columns: 1fr 1fr; }
    }

    .card{
      position: relative;
      border-radius: var(--r);
      background: var(--card);
      border: 1px solid rgba(255,255,255,.06);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      overflow:hidden;
    }
    .card::after{
      content:"";
      position:absolute; inset:0;
      border-radius: var(--r);
      padding: 1px;
      background: linear-gradient(135deg, rgba(212,175,55,.55), rgba(255,255,255,.06), rgba(246,226,122,.35));
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor;
              mask-composite: exclude;
      pointer-events:none;
      opacity:.85;
    }
    .cardInner{
      padding: 16px;
      position: relative;
      z-index: 1;
    }

    .cardHead{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      margin-bottom: 12px;
      flex-wrap:wrap;
    }
    .cardTitle{
      font-family: "Cinzel", serif;
      letter-spacing:.18em;
      text-transform: uppercase;
      font-weight: 600;
      font-size: 14px;
      line-height:1.25;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.08);
      color: var(--muted);
      font-size: 12px;
      letter-spacing:.08em;
      white-space:nowrap;
    }
    .badge b{ color: var(--text); font-weight: 600; letter-spacing:.10em; }

    /* ===== TradingView: MOBILE FIX =====
       TradingView symbol-info widget sometimes injects a fixed-size iframe.
       We force the iframe to fill container, and we also scale down safely if needed. */
    .tv-box{
      position: relative;
      border-radius: 16px;
      overflow:hidden;
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.06);
      width:100%;
      min-height: 250px;
    }
    @media (max-width: 420px){
      .tv-box{ min-height: 230px; }
      .cardInner{ padding: 14px; }
      .titles h1{ font-size: 18px; }
    }

    /* The widget container that TradingView injects into */
    .tv-slot{
      width:100%;
      height:100%;
      min-height: inherit;
      position:relative;
    }

    /* Force any iframe inside to be responsive */
    .tv-slot iframe{
      width:100% !important;
      height:100% !important;
      min-height: inherit !important;
      border:0 !important;
      display:block !important;
    }

    /* TradingView also injects nested divs; make them fill */
    .tv-slot > div,
    .tv-slot .tradingview-widget-container,
    .tv-slot .tradingview-widget-container__widget{
      width:100% !important;
      height:100% !important;
      min-height: inherit !important;
    }

    /* Closed overlay */
    .closed-overlay{
      position:absolute;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);
      color:#eaeaea;
      font-family:"Cinzel", serif;
      letter-spacing:.18em;
      text-transform:uppercase;
      z-index: 3;
      padding: 12px;
      text-align:center;
    }
    body.market-closed .closed-overlay{ display:flex; }

    /* ===== News ===== */
    .newsCard{ margin-top: 14px; }

    .ticker{
      position: relative;
      overflow: hidden;
      border-radius: 16px;
      background: rgba(255,255,255,.03);
      border: 1px solid rgba(255,255,255,.06);
      padding: 12px 0;
    }
    .marquee{
      display:flex;
      width: 100%;
      overflow:hidden;
      user-select:none;
    }
    .marquee-group{
      display:flex;
      gap: 14px;
      padding-left: 14px;
      align-items:center;
      white-space: nowrap;
      animation: scroll 48s linear infinite;
    }
    #g2{ animation-delay: -24s; }

    @keyframes scroll{
      from{ transform: translateX(0); }
      to{ transform: translateX(-100%); }
    }

    .item{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.06);
      color:#eaeaea;
      font-size: 13px;
      letter-spacing:.02em;
    }
    .item .tag{
      padding: 6px 10px;
      font-size: 11px;
      letter-spacing:.20em;
      text-transform: uppercase;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color: var(--muted);
    }
    .news-link{
      color:#f1f1f1;
      text-decoration:none;
    }
    .news-link:hover{ text-decoration: underline; }

    .signature{
      margin-top: 14px;
      text-align:center;
      color: var(--muted2);
      font-size: 12px;
      letter-spacing: .14em;
      text-transform: uppercase;
    }
    .signature b{ color:#eaeaea; font-weight:600; letter-spacing:.18em; }

    /* Reduce heavy effects on small phones */
    @media (max-width: 420px){
      .card{ backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); }
      .marquee-group{ animation-duration: 56s; }
    }
  </style>
</head>

<body>
  <div class="wrap">

    <!-- Fullscreen -->
    <div class="topbar">
      <button class="btn" id="kioskBtn" type="button" aria-label="Fullscreen">
        <span class="dot"></span>
        <div>
          <small>FULL SCREEN</small>
          <span class="txt" id="kioskLabel">Fullscreen</span>
        </div>
      </button>
    </div>

    <header>
      <div class="brand">
        <div class="logoBox"><img src="logo.png" alt="Logo"></div>
        <div class="titles">
          <h1>SHALUQ JEWELLERS</h1>
          <p>Live Gold &amp; Silver Prices</p>
        </div>
      </div>

      <div class="marketbar">
        <div class="pill">
          <span id="statusDot"></span>
          <span class="label" id="marketTop">MARKET</span>
          <span class="sep">•</span>
          <span class="val" id="marketETA">--</span>
          <span class="sep">•</span>
          <span class="val" id="clock">--:-- UAE • --:-- USA • --:-- LON</span>
        </div>
      </div>
    </header>

    <div class="divider"></div>

    <!-- Rates -->
    <div class="grid">
      <section class="card">
        <div class="cardInner">
          <div class="cardHead">
            <div class="cardTitle">GOLD (XAUUSD)</div>
            <div class="badge">Status <b id="goldStatus">--</b></div>
          </div>

          <div class="tv-box">
            <div class="closed-overlay">Market Closed</div>
            <div class="tv-slot" id="gold"></div>
          </div>
        </div>
      </section>

      <section class="card">
        <div class="cardInner">
          <div class="cardHead">
            <div class="cardTitle">SILVER (XAGUSD)</div>
            <div class="badge">Status <b id="silverStatus">--</b></div>
          </div>

          <div class="tv-box">
            <div class="closed-overlay">Market Closed</div>
            <div class="tv-slot" id="silver"></div>
          </div>
        </div>
      </section>
    </div>

    <!-- News -->
    <section class="card newsCard">
      <div class="cardInner">
        <div class="cardHead">
          <div class="cardTitle">NEWS</div>
          <div class="badge"><b id="newsBadge">Loading Headlines...</b></div>
        </div>

        <div class="ticker">
          <div class="marquee">
            <div class="marquee-group" id="g1">
              <div class="item" data-news="1"><span class="tag">NEWS</span> Loading Gold Headlines...</div>
              <div class="item"><span class="tag">DUBAI</span> Office M02, Saeed Mohammed Building, Deira Gold Souk Dubai</div>
              <div class="item"><span class="tag">CALL</span> +971 54 786 9940</div>
              <div class="item"><span class="tag">VISIT</span> www.shaluqjewellers.com</div>
              <div class="item"><span class="tag">FUJAIRAH</span> Hamad Bin Abdulla Rd, Merashid, Opposite ADCB Bank Fujairah UAE</div>
              <div class="item"><span class="tag">CALL</span> +971 92 439 539</div>
              <div class="item"><span class="tag">SHALUQ</span> Where Luxury Meets Affection</div>
            </div>
            <div class="marquee-group" id="g2" aria-hidden="true"></div>
          </div>
        </div>

        <div class="signature"><b>SHALUQ JEWELLERS</b> — Where Luxury Meets Affection</div>
      </div>
    </section>

  </div>

  <script>
    /* ===== TradingView Symbol Info (Responsive-friendly) ===== */
    function addTV(symbol, id){
      const host = document.getElementById(id);
      if(!host) return;
      host.innerHTML = "";

      const s = document.createElement("script");
      s.src = "https://s3.tradingview.com/external-embedding/embed-widget-symbol-info.js";
      s.async = true;

      // width/height hints (TV sometimes ignores, but we still give it)
      s.innerHTML = JSON.stringify({
        symbol,
        width: "100%",
        height: "100%",
        locale: "en",
        colorTheme: "dark",
        isTransparent: true
      });

      host.appendChild(s);
    }
    addTV("OANDA:XAUUSD","gold");
    addTV("OANDA:XAGUSD","silver");

    /* ===== Dubai time helper (UAE = UTC+4) ===== */
    function getDubaiDate(){
      const now = new Date();
      const utc = now.getTime() + (now.getTimezoneOffset() * 60000);
      return new Date(utc + (4 * 60 * 60000));
    }

    /* ===== Clock (Dubai + USA(New York) + London) ===== */
    function tickClock(){
      const now = new Date();

      const d = getDubaiDate();
      const hh = String(d.getHours()).padStart(2,"0");
      const mm = String(d.getMinutes()).padStart(2,"0");

      const usa = new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",hour12:false,timeZone:"America/New_York"}).format(now);
      const lon = new Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",hour12:false,timeZone:"Europe/London"}).format(now);

      document.getElementById("clock").textContent = `${hh}:${mm} UAE • ${usa} USA • ${lon} LON`;
    }
    tickClock();
    setInterval(tickClock, 15000);

    /* ===== Market Hours (simple 24/5 model) ===== */
    function isMarketOpen(dubaiDate){
      const utcMs = dubaiDate.getTime() - (4 * 60 * 60000);
      const utc = new Date(utcMs);
      const dowNY = new Intl.DateTimeFormat("en-US",{weekday:"short",timeZone:"America/New_York"}).format(utc);
      return !["Sat","Sun"].includes(dowNY);
    }
    function getNextOpen(dubaiDate){
      const d = new Date(dubaiDate);
      while(true){
        d.setMinutes(0,0,0);
        d.setHours(1);
        d.setDate(d.getDate()+1);
        if(isMarketOpen(d)) return d;
      }
    }
    function getNextClose(dubaiDate){
      const d = new Date(dubaiDate);
      while(true){
        d.setMinutes(0,0,0);
        d.setHours(1);
        const dowNY = new Intl.DateTimeFormat("en-US",{weekday:"short",timeZone:"America/New_York"}).format(
          new Date(d.getTime() - (4 * 60 * 60000))
        );
        if(dowNY === "Sat") return d;
        d.setDate(d.getDate()+1);
      }
    }

    let marketTickTimer = null;
    function updateMarketBar(){
      const d = getDubaiDate();
      const open = isMarketOpen(d);

      const top = document.getElementById("marketTop");
      const eta = document.getElementById("marketETA");
      const dot = document.getElementById("statusDot");

      // clone ticker group for seamless loop
      const g1 = document.getElementById("g1");
      const g2 = document.getElementById("g2");
      if(g2 && g1 && g2.innerHTML.trim() === "") g2.innerHTML = g1.innerHTML;

      if(marketTickTimer) clearInterval(marketTickTimer);

      if(open){
        const closeAt = getNextClose(d);
        top.textContent = "MARKET";
        dot.style.background = "var(--open)";
        dot.style.boxShadow = "0 0 12px var(--open)";
        document.body.classList.remove("market-closed");

        function tick(){
          const nowDubai = getDubaiDate();
          let diff = Math.max(0, Math.floor((closeAt.getTime() - nowDubai.getTime()) / 1000));
          const hrs = Math.floor(diff / 3600); diff %= 3600;
          const mins = Math.floor(diff / 60);
          const secs = diff % 60;
          eta.textContent = `Open • Closes in ${hrs}h ${mins}m ${String(secs).padStart(2,"0")}s`;
          document.getElementById("goldStatus").textContent = "Open";
          document.getElementById("silverStatus").textContent = "Open";
        }
        tick();
        marketTickTimer = setInterval(tick, 1000);

      } else {
        const openAt = getNextOpen(d);
        top.textContent = "MARKET CLOSED";
        dot.style.background = "var(--closed)";
        dot.style.boxShadow = "0 0 12px var(--closed)";
        document.body.classList.add("market-closed");

        function tick(){
          const nowDubai = getDubaiDate();
          let diff = Math.max(0, Math.floor((openAt.getTime() - nowDubai.getTime()) / 1000));
          const days = Math.floor(diff / 86400); diff %= 86400;
          const hrs = Math.floor(diff / 3600); diff %= 3600;
          const mins = Math.floor(diff / 60);
          const secs = diff % 60;

          eta.textContent = days > 0
            ? `Opens in ${days}d ${hrs}h ${mins}m ${String(secs).padStart(2,"0")}s`
            : `Opens in ${hrs}h ${mins}m ${String(secs).padStart(2,"0")}s`;

          do
