<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>SHALUQ JEWELLERS â€“ Live Gold & Silver</title>
<link rel="icon" href="logo.png">

<style>
/* ===== FONT ===== */
@font-face{font-family:"ClarityCity";src:url("ClarityCity-Regular.ttf") format("truetype");font-weight:400}
@font-face{font-family:"ClarityCity";src:url("ClarityCity-SemiBold.ttf") format("truetype");font-weight:600}
@font-face{font-family:"ClarityCity";src:url("ClarityCity-Bold.ttf") format("truetype");font-weight:800}

/* ===== RESET ===== */
html,body{margin:0;padding:0;width:100%;height:100%}
body{
  font-family:"ClarityCity",Arial,sans-serif;
  background:#05070c;
  color:#fff;
  overflow-x:hidden;
}

/* ===== HEADER ===== */
.hero{padding:20px;border-bottom:1px solid rgba(255,179,0,.2)}
.hero-inner{display:flex;align-items:center;justify-content:center;gap:18px}
.logo-wrap{
  width:90px;height:90px;border-radius:20px;
  background:#070b14;
  display:grid;place-items:center;
  border:1px solid rgba(255,179,0,.3)
}
.logo-wrap img{width:65px}
.brand-name{
  font-size:46px;
  font-weight:800;
  letter-spacing:4px;
  background:linear-gradient(90deg,#fff4cc,#ffd36a,#ffb300);
  -webkit-background-clip:text;
  color:transparent
}
.brand-sub{font-size:16px;color:#cfd8ff;margin-top:6px}

/* ===== MARKET BAR ===== */
.marketbar{display:flex;justify-content:center;margin-top:12px}
.marketpill{
  background:#000c;
  border:1px solid rgba(255,179,0,.35);
  padding:12px 20px;
  border-radius:999px;
  display:flex;align-items:center;gap:12px;
  font-weight:700
}
.dot{
  width:14px;height:14px;border-radius:50%;
  background:#26d68a;
  box-shadow:0 0 10px #26d68a
}

/* ===== GRID ===== */
.rates{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:16px;
  padding:16px;
  max-width:1400px;
  margin:auto
}
.card{
  background:#0b1228;
  border:1px solid #1b2a4a;
  border-radius:18px;
  overflow:hidden;
  min-height:620px
}
.card-title{
  text-align:center;
  padding:12px;
  font-weight:800;
  border-bottom:1px solid #1b2a4a
}

/* ===== TV WIDGET ===== */
.tv-box{position:relative;height:calc(100% - 50px)}
.tv-inner{position:absolute;inset:0}
.tv-inner iframe{
  position:absolute!important;
  left:50%!important;
  top:50%!important;
  width:100%!important;
  height:100%!important;
  transform-origin:center center!important;
  transform:translate(-50%,-50%) scale(1.05)!important;
  border:0;
}

/* ===== CLOSED OVERLAY ===== */
.closed-overlay{
  position:absolute;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  font-size:22px;
  font-weight:800;
  background:rgba(0,0,0,.7)
}
.market-closed .tv-inner{display:none}
.market-closed .closed-overlay{display:flex}

/* ===== MOBILE FIX ===== */
@media(max-width:768px){
  body{overflow-y:auto}
  .rates{grid-template-columns:1fr}
  .card{min-height:auto}
  .tv-box{height:340px}

  /* ðŸ”¥ THIS FIXES DAYâ€™S RANGE CUT OFF ðŸ”¥ */
  .tv-inner iframe{
    transform:translate(-50%,-50%) scale(0.88)!important;
  }
}
</style>
</head>

<body>

<div class="hero">
  <div class="hero-inner">
    <div class="logo-wrap"><img src="logo.png"></div>
    <div>
      <div class="brand-name">SHALUQ JEWELLERS</div>
      <div class="brand-sub">Live Gold & Silver Prices</div>
    </div>
  </div>

  <div class="marketbar">
    <div class="marketpill">
      <span class="dot" id="statusDot"></span>
      <span id="marketTop">Market</span> â€¢
      <span id="marketETA">--</span> â€¢
      <span id="clock">--:-- UAE</span>
    </div>
  </div>
</div>

<div class="rates">
  <div class="card">
    <div class="card-title">GOLD (XAUUSD)</div>
    <div class="tv-box">
      <div class="closed-overlay">Market Closed</div>
      <div class="tv-inner"><div id="gold"></div></div>
    </div>
  </div>

  <div class="card">
    <div class="card-title">SILVER (XAGUSD)</div>
    <div class="tv-box">
      <div class="closed-overlay">Market Closed</div>
      <div class="tv-inner"><div id="silver"></div></div>
    </div>
  </div>
</div>

<script>
/* ===== TradingView ===== */
function addTV(symbol,id){
  const s=document.createElement("script");
  s.src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-info.js";
  s.async=true;
  s.innerHTML=JSON.stringify({symbol,colorTheme:"dark",isTransparent:true});
  document.getElementById(id).appendChild(s);
}
addTV("OANDA:XAUUSD","gold");
addTV("OANDA:XAGUSD","silver");

/* ===== Dubai Time ===== */
function getDubaiDate(){
  const now=new Date();
  return new Date(now.getTime()+((4*60)-now.getTimezoneOffset())*60000);
}

/* ===== Clock ===== */
function tickClock(){
  const d=getDubaiDate();
  clock.textContent=`${String(d.getHours()).padStart(2,"0")}:${String(d.getMinutes()).padStart(2,"0")} UAE`;
}
tickClock();setInterval(tickClock,10000);

/* ===== MARKET LOGIC =====
Open: 03:00
Close: 02:00
Daily gap: 02â€“03
Weekend: Sat 02 â†’ Sun 03 CLOSED
*/
function updateDubaiMarket(){
  const d=getDubaiDate(),day=d.getDay(),h=d.getHours(),m=d.getMinutes();
  const dailyGap=(h===2);
  const weekend=(day===6&&h>=2)||(day===0&&h<3);
  const isOpen=!(dailyGap||weekend);

  if(isOpen){
    const close=new Date(d);
    if(h<2) close.setHours(2,0,0,0);
    else{close.setDate(close.getDate()+1);close.setHours(2,0,0,0);}
    const diff=Math.max(0,(close-d)/60000|0);
    marketTop.textContent="Market Open";
    marketETA.textContent=`Closes in ${Math.floor(diff/60)}h ${diff%60}m`;
    statusDot.style.background="#26d68a";
    document.body.classList.remove("market-closed");
  }else{
    const open=new Date(d);
    if(weekend){
      if(day===6){open.setDate(open.getDate()+1);open.setHours(3,0,0,0);}
      else open.setHours(3,0,0,0);
    }else open.setHours(3,0,0,0);
    const diff=Math.max(0,(open-d)/60000|0);
    marketTop.textContent="Market Closed";
    marketETA.textContent=`Opens in ${Math.floor(diff/60)}h ${diff%60}m`;
    statusDot.style.background="#ff5c5c";
    document.body.classList.add("market-closed");
  }
}
updateDubaiMarket();
setInterval(updateDubaiMarket,60000);
</script>

</body>
</html>
